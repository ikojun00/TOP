(()=>{var e={498:e=>{e.exports=e=>{const t={board:[],shipsLeft:!0,owner:e,lastShot:{hit:!1,location:!1}};0===t.board.length&&(()=>{for(let e=0;e<100;e+=1)t.board.push({ship:!1,beenHit:!1})})();const n=()=>{for(const e of t.board)if(!1!==e.ship&&!e.beenHit)return void(t.shipsLeft=!0);t.shipsLeft=!1};return{boardInfo:t,placeShip:(e,n)=>{if(e.isVertical)for(let o=0;o<e.length;o+=1)t.board[n+10*o].ship=e.id;else for(let o=0;o<e.length;o+=1)t.board[n+o].ship=e.id},receiveHit:e=>{t.board[e].beenHit=!0,t.board[e].ship&&(t.lastShot.hit=!0,t.lastShot.location=e),n()},allShipsSunk:n,clearBoard:()=>{for(let e=0;e<100;e+=1)t.board[e]={ship:!1,beenHit:!1}}}}},507:e=>{e.exports=e=>{const t={name:e,shots:[]},n=()=>{let e=o(100);for(;t.shots.includes(e);)e=o(100);return t.shots.push(e),e},o=e=>Math.floor(Math.random()*e);return{playerInfo:t,AI:e=>{if(e.hit){let r,l=[1,-1,10,-10];do{const t=o(l.length),a=l[t];if(r=e.location+a,l=l.slice(0,t).concat(l.slice(t+1)),0===l.length)return n()}while(t.shots.includes(r)||r>99||r<0);return t.shots.push(r),r}return n()},getRandMove:n,resetShots:()=>{t.shots.length=0},getRandomNum:o}}},643:e=>{e.exports=(e,t,n=!1,o=[])=>({id:e,length:t,isVertical:n,hits:o,hit:e=>{e<0||e>=t||o.includes(e)||o.push(e)},sunk:()=>t===o.length})}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(498),t=n.n(e),o=n(643),r=n.n(o),l=n(507),a=n.n(l);function d(e){const t=document.getElementById(e);t.style.gridTemplateColumns="repeat(10, 1fr)",t.style.gridTemplateRows="repeat(10, 1fr)";for(let n=0;n<100;n+=1){const o=document.createElement("button");o.classList.add(`${e}-grid-element`),o.dataset.coord=n,!1!==m.boardInfo.board[n].ship&&"playerBoard"===e&&(o.style.backgroundColor="pink"),t.append(o)}}function i(e){document.getElementById(e).innerHTML=""}function s(e,t,n){if(!0===e.isVertical){if(t+10*e.length>100)return!1;for(let o=0;o<e.length;o+=1)if(!1!==n[t+10*o].ship)return!1}else{if(!1!==e.isVertical)return-1;if(t%10>(t+e.length)%10)return!1;for(let o=0;o<e.length;o+=1)if(!1!==n[t+o].ship)return!1}return!0}function c(e){if("ai"===e){const e=[S,E,v,k,x];for(let t=0;t<5;t+=1){const n=f.getRandomNum(100);!1===s(e[t],n,p.boardInfo.board)?t-=1:p.placeShip(e[t],n)}}else{if("human"!==e)return-1;{const e=[h,g,b,I,B];for(let t=0;t<5;t+=1){const n=y.getRandomNum(100);!1===s(e[t],n,m.boardInfo.board)?t-=1:m.placeShip(e[t],n)}}}}function u(){const e=y.getRandomNum(2);return 1!==e&&(0===e||-1)}document.getElementById("submitButton").addEventListener("click",(e=>{document.getElementById("playerName").innerHTML=`${document.getElementById("nameInput").value}'s Board`,d("playerBoard"),document.getElementById("playerSide").style.display="flex",document.getElementById("addShips").style.display="flex",document.getElementById("nameSelection").style.display="none",e.preventDefault()})),document.getElementById("randomButton").addEventListener("click",(e=>{!function(e){if("human"===e)m.clearBoard(),i("playerBoard"),c(e),d("playerBoard");else{if("ai"!==e)return-1;m.clearBoard(),i("playerBoard"),c(e),d("playerBoard")}}(y.playerInfo.name),e.preventDefault()})),document.getElementById("playButton").addEventListener("click",(e=>{d("enemyBoard"),document.getElementById("enemySide").style.display="flex",document.getElementById("addShips").style.display="none",document.querySelectorAll(".enemyBoard-grid-element").forEach((e=>{e.addEventListener("click",(t=>{p.receiveHit(e.dataset.coord),!0===p.boardInfo.lastShot.hit&&p.boardInfo.lastShot.location===e.dataset.coord?e.style.backgroundColor="red":e.style.backgroundColor="lightgrey",!1===p.boardInfo.shipsLeft?(document.getElementById("endgame").style.display="flex",document.getElementById("winnerText").innerHTML="You win!",document.getElementById("playerSide").style.display="none",document.getElementById("enemySide").style.display="none"):function(){const e=document.querySelectorAll(".playerBoard-grid-element"),t=f.AI(m.boardInfo.lastShot);m.receiveHit(t),!0===m.boardInfo.lastShot.hit&&m.boardInfo.lastShot.location===t?e[t].style.backgroundColor="red":e[t].style.backgroundColor="lightgrey",!1===m.boardInfo.shipsLeft&&(document.getElementById("endgame").style.display="flex",document.getElementById("winnerText").innerHTML="AI wins!",document.getElementById("playerSide").style.display="none",document.getElementById("enemySide").style.display="none")}(),t.target.disabled=!0}))})),console.table(m.boardInfo.board),console.table(p.boardInfo.board),e.preventDefault()}));const m=t()("human"),p=t()("ai"),y=a()("human"),f=a()("ai"),h=r()("USS Enterprise",5,u()),g=r()("Minneapolis",4,u()),b=r()("Anderson",3,u()),I=r()("Nautilus",3,u()),B=r()("PT-20",2,u()),S=r()("Akagi",5,u()),E=r()("Nagato",4,u()),v=r()("Murakumo",3,u()),k=r()("I-68",3,u()),x=r()("Shimakaze",2,u());c(f.playerInfo.name)})()})();