(()=>{"use strict";function t(t){document.getElementById(t).style.display="grid",document.querySelectorAll(`.content >*:not(#${t})`).forEach((t=>t.style.display="none"))}function e(t){const e=document.getElementById("sidebar");document.getElementById(t).style.backgroundColor="#D4A373",document.getElementById(`${t}-button`).style.backgroundColor="#D4A373",e.querySelectorAll(`ul>*:not(#${t})`).forEach((t=>t.style.backgroundColor="#FAEDCD")),e.querySelectorAll(`li>*:not(#${t}-button)`).forEach((t=>t.style.backgroundColor="#FAEDCD"))}function o(t){document.getElementById(t).style.display="flex",document.getElementById("add-button").style.display="none",document.querySelectorAll(`body >*:not(#${t})`).forEach((t=>t.style.filter="blur(10px)"))}function n(t){document.getElementById(t).style.display="none",document.getElementById("add-button").style.display="flex",document.querySelectorAll("body >*").forEach((t=>t.style.filter="blur(0)"))}function l(t,e,o){const n=document.getElementById(o),l=document.createElement("div");l.classList.add("card"),l.innerHTML=`\n            <div class="card-text">\n              <button id='checkbox-button' data-checkbox-button=${e}></button>\n              <p>${t.title}</p>\n            </div>\n            <div class="card-options">\n                <button id='details-button' data-details-button=${e}>Details</button>\n                <p>${t.date}</p>\n                <button id='remove-button' data-remove-button=${e}><img src="SVG/trash-can-outline.svg" alt="Trash"></button>\n            </div>`,n.appendChild(l)}class c{constructor(t,e,o,n){this.title=t,this.desc=e,this.priority=o,this.date=n}addCardToContent(t){const e={title:"",desc:"",priority:"",date:""};for(const[o,n]of t)"title"===o?e.title=n:"desc"===o?e.desc=n:"priority"===o?e.priority=n:"date"===o?e.date=n:console.log("Error");const o=new c(e.title,e.desc,e.priority,e.date);d.push(o),r(o),console.table(d)}}let d=[];function r(t){var e;localStorage.setItem("cards",JSON.stringify(d)),function(t){const e=new Date(t),o=new Date;return e.getDate()===o.getDate()&&e.getMonth()===o.getMonth()&&e.getYear()===o.getYear()}(t.date)&&l(t,d.length-1,"content-today"),function(t){const e=new Date(t),o=new Date,n=o.getDate(),l=o.getDay(),c=new Date(o.setDate(n-l-1)),d=new Date(c);return d.setDate(d.getDate()+7),e>=c&&e<=d}(t.date)&&l(t,d.length-1,"content-week"),l(t,d.length-1,"content-inbox"),e=d.length-1,document.querySelectorAll(`[data-checkbox-button='${e}']`).forEach((t=>t.addEventListener("click",(()=>function(t){document.querySelectorAll(`[data-checkbox-button='${t}']`).forEach((t=>{"rgb(212, 163, 115)"!==t.style.backgroundColor?(t.style.backgroundColor="rgb(212, 163, 115)",t.nextElementSibling.style.textDecoration="line-through"):(t.style.backgroundColor="white",t.nextElementSibling.style.textDecoration="none")}))}(e))))),document.querySelectorAll(`[data-remove-button='${e}']`).forEach((t=>t.addEventListener("click",(()=>function(t){const e=JSON.parse(localStorage.getItem("cards"));console.log(d),e.slice(t,1),localStorage.setItem("cards",JSON.stringify(e)),d.splice(t,1),document.querySelectorAll(`[data-remove-button='${t}']`).forEach((t=>t.parentNode.parentNode.parentNode.removeChild(t.parentNode.parentNode)))}(e))))),document.querySelectorAll(`[data-details-button='${e}']`).forEach((t=>t.addEventListener("click",(()=>function(t){document.getElementById("card-details-text").innerHTML=`\n                <p>Title: ${d[t].title}</p>\n                <p>Description: ${d[t].desc}</p>\n                <p>Date: ${d[t].date}</p>\n                <p>Priority: ${d[t].priority}</p>\n                <button id='details-close-button'>Close</button>`,o("card-details-text"),document.getElementById("details-close-button").addEventListener("click",(()=>n("card-details-text")))}(e)))))}!function(){const t=localStorage.getItem("cards");console.log(t),t&&(d=JSON.parse(t),d.forEach((t=>{r(t)})))}(),document.querySelectorAll("button").forEach((l=>{l.addEventListener("click",(d=>{if("add-button"===l.id)o("myForm");else if("submit-button"===l.id){if(!0===function(){const t=document.forms.myForm.title.value,e=document.forms.myForm.date.value;return""!==t&&""!==e}()){const t=document.getElementById("myForm"),e=new FormData(t);d.preventDefault(),(new c).addCardToContent(e),n("myForm")}}else"inbox-button"===l.id?(t("content-inbox"),e("inbox")):"today-button"===l.id?(t("content-today"),e("today")):"week-button"===l.id?(t("content-week"),e("week")):console.log("Error")}))}))})();